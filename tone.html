<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <script language="javascript" type="text/javascript" src="lib/p5.min.js"></script>
    <script language="javascript" type="text/javascript" src="lib/p5.dom.js"></script> 

  </head>
<body>
<div id="canvasContainer"></div>
<script>
var cube = {};
cube.nodes =
  [
    {x:-100, y: -100, z: -100},
    {x:-100, y: -100, z: 100},
    {x:-100, y: 100, z: -100},
    {x:-100, y: 100, z: 100},  
    {x:100, y: -100, z: -100},  
    {x:100, y: -100, z: 100},  
    {x:100, y: 100, z: -100},  
    {x:100, y: 100, z: 100}  
  ];

cube.edges =
  [
    { begin: cube.nodes[0], end: cube.nodes[1] },
    { begin: cube.nodes[1], end: cube.nodes[3] },
    { begin: cube.nodes[3], end: cube.nodes[2] },
    { begin: cube.nodes[2], end: cube.nodes[0] },
    { begin: cube.nodes[4], end: cube.nodes[5] },
    { begin: cube.nodes[5], end: cube.nodes[7] },
    { begin: cube.nodes[7], end: cube.nodes[6] },
    { begin: cube.nodes[6], end: cube.nodes[4] },
    { begin: cube.nodes[0], end: cube.nodes[4] },
    { begin: cube.nodes[1], end: cube.nodes[5] },
    { begin: cube.nodes[2], end: cube.nodes[6] },
    { begin: cube.nodes[3], end: cube.nodes[7] },
    { begin: cube.nodes[2], end: cube.nodes[1] },
    { begin: cube.nodes[0], end: cube.nodes[3] },
    { begin: cube.nodes[4], end: cube.nodes[7] },
    { begin: cube.nodes[5], end: cube.nodes[6] },
  ];

var rotate3DZ = function(figure, theta){  
  theta = -theta;
  // var x = 100;
  //   var y = 100;
  //   figure.nodes[0].x = x * Math.cos(theta) - y * Math.sin(theta);
  //   figure.nodes[0].y = y * Math.cos(theta) + x * Math.sin(theta);
  for (var n = 0; n < figure.nodes.length; n++) {
    var x = figure.nodes[n].x;
    var y = figure.nodes[n].y;
    figure.nodes[n].x = x * Math.cos(theta) - y * Math.sin(theta);
    figure.nodes[n].y = y * Math.cos(theta) + x * Math.sin(theta);
  }
  console.log(figure)
};

var rotate3DX = function(figure, theta){  
  theta = -theta;
  for (var n = 0; n < figure.nodes.length; n++) {
    var y = figure.nodes[n].y;
    var z = figure.nodes[n].z;
    figure.nodes[n].y = y * Math.cos(theta) - z * Math.sin(theta);
    figure.nodes[n].z = z * Math.cos(theta) + y * Math.sin(theta);
  }
};

var rotate3DY = function(figure, theta){  
  theta = -theta;
  for (var n = 0; n < figure.nodes.length; n++) {
    var x = figure.nodes[n].x;
    var z = figure.nodes[n].z;
    figure.nodes[n].x = x * Math.cos(theta) - z * Math.sin(theta);
    figure.nodes[n].z = z * Math.cos(theta) + x * Math.sin(theta);
  }
};

var sketchProc = function(p) {
  
  var backgroundColor;
  var nodeColor;
  var edgeColor;
  var nodeSize;
  
  p.setup = function() {
    backgroundColor = p.color(0, 0, 1);
    nodeColor = p.color(40, 168, 107);
    edgeColor = p.color(34, 68, 204);
    nodeSize = 8;

    p.frameRate(30);
    p.createCanvas(400,400);
    p.textSize(18);
    p.textAlign(p.CENTER,p.CENTER);
  };
  
  // BEGIN Draw Loop
  
  p.draw = function(){
    p.background(backgroundColor);
    p.translate(p.width/2, p.width/2);
    
    p.stroke(edgeColor);
    for (n = 0; n < cube.edges.length; n++) {
      p.line(cube.edges[n].begin.x, cube.edges[n].begin.y, cube.edges[n].end.x, cube.edges[n].end.y);
    }
    
    p.fill(nodeColor);
    p.noStroke();    
    for (var n = 0; n < cube.nodes.length; n++) {
      //p.ellipse(cube.nodes[n].x, cube.nodes[n].y, nodeSize, nodeSize);
      p.fill(255);
      p.text(n, cube.nodes[n].x, cube.nodes[n].y);
    }  
        
    rotate3DZ(cube, 0.03);
    rotate3DX(cube, 0.01);
    rotate3DY(cube, 0.04);
    
  };
  
  // END Draw Loop
  
};

new p5(sketchProc, document.getElementById("canvasContainer"));
</script>
</body>
</html>
